- if @bill.errors.any?
  $("#notice").hide(300);
  $("#errors").html("#{escape_javascript(error_messages_for(@bill))}")
  $("#errors").show(300);
- else
  - if @before_id.nil?
    $('#bills').append($("#{escape_javascript( render :partial => 'bill', :locals => {:bill => @bill})} ").hide().slideDown());
  - else
    $("#{escape_javascript( render :partial => 'bill', :locals => {:bill => @bill})} ").hide().insertBefore("##{@before_id}").slideDown();
  $("#errors").hide(300);
  $("#notice").html("#{escape_javascript(flash[:notice])}")
  $("#notice").show(300)
  $("#form").html("#{escape_javascript(render :partial => 'form', :locals => {:bill => Bill.new})}")

